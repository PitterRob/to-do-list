<div *ngIf="loading" class="loader"></div>
<div class="row d-flex justify-content-center align-items-center">
  <div class="col-md-12 col-xl-10">
    <div class="card">
      <div class="card-header p-3 d-flex justify-content-center">
        <h5><i class="fas fa-tasks"></i>Lista de tarefas</h5>
      </div>
      <div class="card-body">
        <h6 class="d-flex justify-content-center" *ngIf="tarefas.length == 0">
          Não tarefa adicionada
        </h6>
        <table class="table" *ngIf="tarefas.length > 0">
          <thead>
            <tr>
              <th scope="col">Titulo</th>
              <th scope="col">Descrição</th>
              <th scope="col">Prioridade</th>
              <th scope="col">Data</th>
              <th scope="col">Ações</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let tarefa of tarefas">
              <th>
                <span class="ms-2">{{ tarefa.title }}</span>
              </th>
              <td class="align-middle">
                <span>{{ tarefa.description }}</span>
              </td>
              <td class="align-middle">
                <h6 class="mb-0">
                  <span
                    class="badge"
                    [ngClass]="{
                      'bg-primary': tarefa.priority === 'Baixa',
                      'bg-success': tarefa.priority === 'Média',
                      'bg-warning': tarefa.priority === 'Alta',
                      'bg-danger': tarefa.priority === 'Urgente'
                    }"
                    >{{ tarefa.priority }}</span
                  >
                </h6>
              </td>
              <td class="align-middle">
                <h6 class="mb-0">
                  <span>{{ tarefa.expire | date: "dd/MM/yyyy HH:mm" }}</span>
                </h6>
              </td>
              <td class="align-middle">
                <button
                  type="button"
                  class="btn btn-info btn-sm m-1"
                  (click)="editar(tarefa)"
                >
                  Editar
                </button>
                <button
                  type="button"
                  class="btn btn-danger btn-sm"
                  (click)="deletar(tarefa.id)"
                >
                  Excluir
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="card-footer">
        <button class="btn btn-primary" (click)="adicionarTask()">
          Adicionar Tarefa
        </button>
      </div>
    </div>
  </div>
</div>
